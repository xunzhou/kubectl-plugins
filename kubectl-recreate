#!/usr/bin/env bash

set -euo pipefail

usage() {
  echo "Usage: kubectl recreate -f <file>"
  exit 1
}

if [[ $# -eq 0 ]]; then
  usage
fi

# Pass through all arguments to both commands
echo "Deleting resources..."
kubectl delete "$@" --ignore-not-found

echo "Creating resources..."
kubectl create "$@"
